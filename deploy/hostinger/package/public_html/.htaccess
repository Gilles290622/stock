RewriteEngine On

# API routing: /api/* to /api/index.php
RewriteCond %{REQUEST_URI} ^/api/ [NC]
RewriteRule ^api/?(.*)$ /api/index.php [QSA,L]

# Frontend SPA fallback: serve index.html for non-file, non-api
RewriteCond %{REQUEST_URI} !^/api/ [NC]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.html [L]
